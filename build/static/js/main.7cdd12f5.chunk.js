(this.webpackJsonptwttr=this.webpackJsonptwttr||[]).push([[0],{122:function(e,t,r){},123:function(e,t,r){},290:function(e,t,r){},291:function(e,t,r){},292:function(e,t,r){},293:function(e,t,r){},294:function(e,t,r){},295:function(e,t,r){},296:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(96),o=r.n(c),s=r(1),u=r.n(s),i=r(3),l=r(11),p=r(15),f=r.n(p),m=function(){var e=Object(i.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,f.a.get("/api/posts").catch((function(e){return t="Error: , ".concat(e.response.data)}));case 3:return r=e.sent,e.abrupt("return",""!==t?t:r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,f.a.get("/api/users").catch((function(e){return t="Error: , ".concat(e.response.data)}));case 3:return r=e.sent,e.abrupt("return",""!==t?t:r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.next=3,f.a.post("/api/login",t).catch((function(e){return r="Error: ".concat(e.response.data)}));case 3:return n=e.sent,e.abrupt("return",""!==r?r:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.next=3,f.a.post("/api/users",t).catch((function(e){return r="Error: ".concat(e.response.data)}));case 3:return n=e.sent,e.abrupt("return",""!==r?r:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.next=3,f.a.post("/api/posts",t).catch((function(e){return r="Error: ".concat(e.response.data)}));case 3:return n=e.sent,e.abrupt("return",""!==r?r:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.next=3,f.a.post("/api/delete",t).catch((function(e){return r="Error: ".concat(e.response.data)}));case 3:return n=e.sent,e.abrupt("return",""!==r?r:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.next=3,f.a.post("/api/like",t).catch((function(e){return r="Error: ".concat(e.response.data)}));case 3:return n=e.sent,e.abrupt("return",""!==r?r:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.next=3,f.a.post("/api/dislike",t).catch((function(e){return r="Error: ".concat(e.response.data)}));case 3:return n=e.sent,e.abrupt("return",""!==r?r:n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=r(5),y=(r(122),function(e){var t=e.changeCurrentPage,r=e.addProfile,c=e.addErrorMessage,o=Object(n.useState)(),s=Object(l.a)(o,2),p=s[0],f=s[1],m=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),!p||!p.name||!p.password?c("Error: You have to fill out both fields"):d();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(p);case 2:"string"==typeof(n=e.sent)?(console.log(n),c(n)):(console.log("Log in was successful"),r(n),t("posts"),c(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:m,className:"loginForm",onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),m(e))}},a.a.createElement("input",{type:"text",name:"name",placeholder:"Enter your name",onChange:function(e){return f(Object(k.a)(Object(k.a)({},p),{},{name:e.target.value.toLowerCase().trim()}))}}),a.a.createElement("input",{type:"password",name:"password",placeholder:"Enter your password",onChange:function(e){return f(Object(k.a)(Object(k.a)({},p),{},{password:e.target.value.trim()}))}}),a.a.createElement("div",{className:"btns"},a.a.createElement("button",{className:"btns",onClick:function(){c(""),t("posts")}}," Cancel "),a.a.createElement("button",{className:"btns submit",type:"submit"},"Submit")))}),O=(r(123),function(e){var t=e.profile,r=e.currentPage,n=e.addProfile,c=e.changeCurrentPage,o=e.users,s={};return t&&(s=o.find((function(e){return e._id===t._id}))),t||"posts"!==r?"log in"===r||"register"===r||"compose"===r?a.a.createElement("div",{className:"page-label"},r):a.a.createElement("div",{className:"profile"},a.a.createElement("div",{className:"profile-name",style:{background:s?s.color:"black"}},s?s.name:""),a.a.createElement("button",{onClick:function(){return c("compose")}}," Compose "),a.a.createElement("button",{onClick:function(){n(null),c("posts"),console.log("Logged out.")}},"Log Out")):a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"login-btn",onClick:function(){return c("log in")}},"Log In "),a.a.createElement("button",{className:"register-btn",onClick:function(){return c("register")}},"Register "))}),j=r(97),x=(r(290),function(e){var t=e.addProfile,r=e.changeCurrentPage,c=e.addErrorMessage,o=Object(n.useState)(),s=Object(l.a)(o,2),p=s[0],f=s[1],m=Object(n.useRef)(),d=function(e){(console.log(p),e.preventDefault(),p&&p.name&&p.password&&p.rePassword&&p.color)?p.password!==p.rePassword?(m.current.style.backgroundColor="#FFE1E1",c("Error: Passwords do not match")):(m.current.style.backgroundColor="white",g()):c("Error: You have to fill out all fields")},g=function(){var e=Object(i.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(p);case 2:"string"==typeof(n=e.sent)?(console.log(n),c(n)):(console.log("Log in was successful"),t(n),r("posts"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:d,className:"registerForm",onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),d(e))}},a.a.createElement("input",{type:"text",name:"name",placeholder:"Enter your name",onChange:function(e){return f(Object(k.a)(Object(k.a)({},p),{},{name:e.target.value.toLowerCase().trim()}))}}),a.a.createElement("input",{type:"password",name:"password",placeholder:"Enter your password",onChange:function(e){return f(Object(k.a)(Object(k.a)({},p),{},{password:e.target.value.trim()}))}}),a.a.createElement("input",{type:"password",name:"rePassword",ref:m,placeholder:"Re-enter your password",onChange:function(e){return f(Object(k.a)(Object(k.a)({},p),{},{rePassword:e.target.value.trim()}))}}),a.a.createElement("div",{className:"color-btns"},a.a.createElement("div",{className:"color-btns-label"},a.a.createElement("p",null," Choose a color: ")),a.a.createElement("div",{className:"color-btns-choices"},a.a.createElement(j.TwitterPicker,{triangle:"hide",onChangeComplete:function(e,t){f(Object(k.a)(Object(k.a)({},p),{},{color:e.hex}))}}))),a.a.createElement("div",{className:"btns"},a.a.createElement("button",{onClick:function(){r("posts"),c("")}}," Cancel "),a.a.createElement("button",{className:"btns submit",type:"submit"},"Submit")))}),C=(r(291),r(292),r(98)),P=function(e){var t=e.profile,r=e.post,n=e.server_GetPostsRequest,c=function(){var e=Object(i.a)(u.a.mark((function e(a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,E({token:t.token,_id:r._id});case 3:"OK"!==(c=e.sent)?console.log(c):(console.log("Like was added."),n());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(i.a)(u.a.mark((function e(a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,w({token:t.token,_id:r._id});case 3:"OK"!==(c=e.sent)?console.log(c):(console.log("Like was removed."),n());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s={},l=r&&t&&r.authorId!==t._id&&!r.likes.includes(t._id),p=r&&t&&r.authorId!==t._id&&r.likes.includes(t._id);return l?s={color:"black",cursor:"pointer",opacity:1}:p&&(s={color:"red",cursor:"pointer",opacity:1}),a.a.createElement("button",{className:"like",onClick:function(e){l?c(e):p&&o(e)},style:s},a.a.createElement("label",null,r.likes.length),a.a.createElement(C.a,{className:"heart"}))},N=function(e){var t=e.post,r=e.profile,n=e.users,c=e.changeCurrentPage,o=e.server_GetPostsRequest,s=n.find((function(e){return e._id===t.authorId}));s||(s={name:"User no longer exists",color:"red"});var l,p=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({token:r.token,_id:t._id});case 2:"OK"!==(n=e.sent)?console.log(n):(console.log("Post was successfully deleted."),o());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r&&r._id===t.authorId&&(l=a.a.createElement("button",{className:"delete",onClick:p}," Delete "));var m=new Date(t.date),d="".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][m.getMonth()]," ").concat(m.getDate(),", ").concat(m.getFullYear()),g=m.getHours()>12?m.getHours()-12:m.getHours(),b=(m.getMinutes()<10?"0":"")+m.getMinutes(),h=m.getHours()>=12?"pm":"am",E="".concat(d," | ").concat(g,":").concat(b," ").concat(h);return a.a.createElement("li",{className:"post"},a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"info-name"},a.a.createElement("div",{className:"icon-color",style:{background:s.color}}),a.a.createElement("h3",null,s.name)),a.a.createElement("p",{className:"text"},t.payload),a.a.createElement("p",{className:"date"},E)),a.a.createElement("div",{className:"postButtons"},a.a.createElement(P,{profile:r,post:t,changeCurrentPage:c,server_GetPostsRequest:o}),l))},_=(r(293),function(e){var t=e.profile,r=e.posts,n=e.users,c=e.changeCurrentPage,o=e.server_GetPostsRequest;return r&&0===r.length?a.a.createElement("div",{className:"emptyPosts"},a.a.createElement("img",{src:"https://media.giphy.com/media/26hkhPJ5hmdD87HYA/giphy.gif",alt:"none found"}),a.a.createElement("p",null,"Unfortunately there are no posts")):a.a.createElement("ul",null,r.slice(0).reverse().map((function(e){return a.a.createElement(N,Object.assign({key:e._id},{profile:t,post:e,users:n,changeCurrentPage:c,server_GetPostsRequest:o}))})))}),D=(r(294),function(e){var t=e.profile,r=e.changeCurrentPage,c=e.addErrorMessage,o=Object(n.useState)(""),s=Object(l.a)(o,2),p=s[0],f=s[1],m=Object(n.useRef)(),d=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),p.trim("").length>2&&p.trim("").length<120?g():c("Error: Text is not the right length");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({token:t.token,payload:p});case 2:"OK"!==(n=e.sent)?c(n):(console.log("Post was created."),r("posts"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("form",{className:"composeForm",onSubmit:d},a.a.createElement("textarea",{type:"text",name:"text",placeholder:"Enter your message",ref:m,onChange:function(e){f(e.target.value.trim()),p.trim("").length>120?m.current.style.backgroundColor="red":m.current.style.backgroundColor="white"}}),a.a.createElement("div",{className:"btns"},a.a.createElement("button",{name:"cancel",className:"submit",onClick:function(e){e.preventDefault(),r("posts")}},"Cancel"),a.a.createElement("button",{type:"submit",name:"submit",className:"submit"},"Submit")))}),M=(r(295),function(e){return a.a.createElement("div",{className:"errors",onClick:function(){return e.addErrorMessage("")}},e.errorMessage)});var S=function(){var e,t=Object(n.useState)("posts"),r=Object(l.a)(t,2),c=r[0],o=r[1],s=Object(n.useState)(),p=Object(l.a)(s,2),f=p[0],g=p[1],b=Object(n.useState)([]),h=Object(l.a)(b,2),v=h[0],E=h[1],w=Object(n.useState)([]),k=Object(l.a)(w,2),j=k[0],C=k[1],P=Object(n.useState)(),N=Object(l.a)(P,2),S=N[0],R=N[1],L=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:"string"===typeof(t=e.sent)?(R("There was a connection error with the DB."),E([])):E(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:"string"===typeof(t=e.sent)?console(t):C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();switch(Object(n.useEffect)((function(){F(),L()}),[c]),c){case"log in":e=a.a.createElement(y,{addProfile:g,changeCurrentPage:o,addErrorMessage:R});break;case"register":e=a.a.createElement(x,{addProfile:g,changeCurrentPage:o,addErrorMessage:R});break;case"compose":e=a.a.createElement(D,{profile:f,changeCurrentPage:o,addErrorMessage:R});break;default:e=a.a.createElement(_,{profile:f,posts:v,users:j,changeCurrentPage:o,server_GetPostsRequest:L})}return a.a.createElement("div",{className:"global-app"},S?a.a.createElement(M,{errorMessage:S,addErrorMessage:R}):"",a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"sidebar"},a.a.createElement(O,{users:j,profile:f,addProfile:g,currentPage:c,changeCurrentPage:o,addErrorMessage:R})),a.a.createElement("div",{className:"container"},e)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,r){e.exports=r(296)}},[[99,1,2]]]);
//# sourceMappingURL=main.7cdd12f5.chunk.js.map